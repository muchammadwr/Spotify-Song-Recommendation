# Spotify Song Recommendations - Muchammad Wildan Alkautsar
## Project Overview
### Background
In the digital era with millions of songs available, users often feel the urge to find music that suits their preferences. Content-based recommendation systems analyze the intrinsic characteristics of songs, such as lyrics and genres, to provide more personalized and relevant recommendations. Research by Adhimas Yanto Timur developed an Indonesian song recommendation system using content-based filtering and cosine similarity methods, which are able to provide accurate and relevant song recommendations based on lyrics. The development of such a system is important to improve the user experience in exploring new music that suits their tastes. 

References:
[SISTEM REKOMENDASI LAGU INDONESIA MENGGUNAKAN METODE CONTENT-BASED FILTERING DAN COSINE SIMILARITY](https://journal.eng.unila.ac.id/index.php/jitet/article/view/5949)

## Business Understanding
### Problem Statements
In developing a music recommendation system based on content-based filtering, there are two main issues that need to be considered:
- Music Feature Extraction and Representation: Determining and extracting relevant features from a song, such as genre
- Creating a recommendation system based on genre using content-based filtering

### Goals
Describe the project objectives that answer the problem statement:
- Identify and extract important features from each song, such as genre
- Conduct regular testing and evaluation of the performance of the recommendation system using relevant metrics

### Solution statements
- Using TF-IDF Vectorizer for feature extraction. This technique will also be used in the recommendation system to find important feature representations of each genre category
- Using Cosine Similarity to calculate the degree of similarity between songs

## Data Understanding
This dataset consists of 14 columns and 604 rows, there are no missing values ​​and duplicate values.
Source: [Top Spotify songs from 2010-2019 - BY YEAR
](https://www.kaggle.com/datasets/leonardopena/top-spotify-songs-from-20102019-by-year).

Data dictionary
- **title**: The title of the song  
- **artist**: The artist of the song  
- **top genre**: The genre of the song  
- **year**: The year the song was in the Billboard  
- **bpm**: Beats per minute - the tempo of the song  
- **nrgy**: The energy of the song - higher values mean more energetic (fast, loud)  
- **dnce**: The danceability of the song - higher values mean it's easier to dance to  
- **dB**: Decibel - the loudness of the song  
- **live**: Liveness - likeliness the song was recorded with a live audience  
- **val**: Valence - higher values mean a more positive sound (happy, cheerful)  
- **dur**: The duration of the song  
- **acous**: The acousticness of the song - likeliness the song is acoustic  
- **spch**: Speechiness - higher values mean more spoken words  
- **pop**: Popularity - higher values mean more popular  

## Data Preparation
Viewing the contents of the top genre column to ensure that the number of unique columns
takes the columns needed for system creation. For this project, only the top genre and title columns are taken.
Extracting the top genre column features using the TfidfVectorizer() function from sklearn which functions to find important feature representations of each genre category

## Modeling
Converting the TF-IDF matrix to a Pandas DataFrame, where each row represents a song title and each column represents a feature (unique word from the genre) generated by TfidfVectorizer(). After that, the number of features (num_features) and the number of songs (num_games) are calculated to find out the dimensionality of the dataset. Then, the sample() function is used to randomly take a subset of the data, with a maximum of 22 features and 10 songs, ensuring a valid number of samples based on the dataset size. This step helps in exploring the TF-IDF structure as well as understanding the distribution of feature weights in the dataset.

Using the cosine_similarity function from sklearn, this function works by calculating the degree of similarity between song titles in the title column

Creating the song_recommendations() function aims to provide song recommendations based on genre similarity using a content-based filtering approach with cosine similarity. First, this function creates a song index based on its title using pd.Series(), so that each song title has a numeric index in the dataset. Furthermore, if the song title being searched for is not found, the function will return an error message. If the song is found, the function takes its index and calculates the cosine similarity between the song and all other songs in the dataset. The similarity results are then sorted in descending order, so that the song with the highest similarity is in first place.
So that the recommendations do not include the input song itself, the function discards the first result (because the song's similarity to itself is always 1) and only takes the top k recommendations. After that, the indices of the songs with the highest similarity are stored in the song_indices list. Finally, the function takes the song title and genre information from the dataset based on the index and returns it as a recommendation. Thus, this function ensures that the recommended songs have a similar genre to the input song, helping users find songs that suit their preferences.

### Result
The code recommendations = song_recommendations("Broken Arrows", k=3) asks for recommendations of 3 songs that are most similar to the song "Broken Arrows" based on genre using a content-based filtering system with cosine similarity.
The output shows that the recommended songs—"Wake Me Up", "Don't You Worry Child - Radio Edit", and "Hey Brother"—all have the genre "big room", just like the song "Broken Arrows". This means that the model detects that these songs have a high similarity in genre, so they are recommended as songs that are likely to be liked by listeners of "Broken Arrows".
Technically, the algorithm calculates the cosine similarity between "Broken Arrows" and all songs in the dataset, then sorts the results from highest to lowest similarity. The top three songs that are not the input song itself are then returned as recommendations.

| Index | Title                                 | Top Genre |
|-------|---------------------------------------|-----------|
| 140   | Wake Me Up                            | big room  |
| 146   | Don't You Worry Child - Radio Edit    | big room  |
| 217   | Hey Brother                           | big room  |


## Evaluation
The calculate_precision() function calculates the relevance level of song recommendations based on genre. Precision is defined as the ratio of the number of songs that have the same genre as the input song compared to the total number of recommended songs. In this example, the song "Broken Arrows" is given as input, which has the genre "big room". Five songs are recommended, namely "Wake Me Up", "Don't You Worry Child - Radio Edit", "Hey Brother", "Broken Arrows", and "Heroes (We Could Be)", all of the same genre, "big room". Since all the recommendations have the appropriate genre, the precision is calculated as 5/5 = 1.00 or 100%, which means the recommender system gives perfect results without any errors in genre.

### Rekomendasi Lagu
| Index | Title                                 | Top Genre |
|-------|---------------------------------------|-----------|
| 140   | Wake Me Up                            | big room  |
| 146   | Don't You Worry Child - Radio Edit    | big room  |
| 217   | Hey Brother                           | big room  |
| 327   | Broken Arrows                         | big room  |
| 340   | Heroes (We Could Be)                  | big room  |
**Precision: 1.00**

